# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)

## üìå ‚úÖ –û–±—â–∞—è —Å—Ö–µ–º–∞

```
[ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Telegram ] <---> [ Telegram Bot (Aiogram) ] <---> [ Backend (Django REST) ] <---> [ PostgreSQL DB ]
                                              ^
                                              |
                                        [ Frontend (Next.js, Tailwind) ]
```

## ‚úÖ Frontend

### ‚≠ê –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Next.js** (React)
- **TypeScript**
- **Tailwind CSS**
- **Axios/RTK Query** (–¥–ª—è API)
- **Telegram WebApp SDK**

### ‚≠ê –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω—É—Ç—Ä–∏ Telegram WebApp
- –ö–∞—Ç–∞–ª–æ–≥ —Ç—É—Ä–æ–≤
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—É—Ä–æ–≤
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö —Ç—É—Ä–æ–≤ –∏ —á–∞—Ç–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚≠ê –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ö–∞—Ç–∞–ª–æ–≥ —Ç—É—Ä–æ–≤
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç—É—Ä–∞
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—É—Ä–∞
- –ß–∞—Ç—ã —Ç—É—Ä–æ–≤ (–∏–Ω–ª–∞–π–Ω –æ–∫–Ω–æ)
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞—è–≤–∫–∏)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Payme —á–µ—Ä–µ–∑ WebApp –∏–ª–∏ –∫–Ω–æ–ø–∫—É –æ–ø–ª–∞—Ç—ã

### ‚≠ê Telegram WebApp
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Telegram ID, username)
- –û—Ç–ø—Ä–∞–≤–∫–∞ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±—ç–∫–µ–Ω–¥
- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ Payme (–∏–Ω–≤–æ–π—Å –±–æ—Ç–æ–º)

## ‚úÖ Backend

### ‚≠ê –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Django**
- **Django REST Framework**
- **Celery** (–¥–ª—è –∑–∞–¥–∞—á –∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏)
- **PostgreSQL** (–æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞)
- **Redis** (–±—Ä–æ–∫–µ—Ä Celery)
- **Docker** (–¥–ª—è –¥–µ–ø–ª–æ—è)

### ‚≠ê –§—É–Ω–∫—Ü–∏–∏
- REST API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞ –∏ Telegram-–±–æ—Ç–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ç—É—Ä–∞–º–∏
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∞—Ç—É—Å—ã
- –ß–∞—Ç—ã —Ç—É—Ä–æ–≤ (—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π / –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–∞—Ç–∞)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ —Ç—É—Ä–æ–≤ (–¥–∞—Ç—ã, —Ü–µ–Ω—ã)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–∫—Ü–∏–π –∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Payme –¥–ª—è –ø—Ä–∏–µ–º–∞ –æ–ø–ª–∞—Ç—ã
- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –±–æ–Ω—É—Å–Ω—ã–π —Å—á—ë—Ç
- –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ (Payme Payout)

### ‚≠ê –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (apps/)
- **users**
- **tours**
- **bookings**
- **payments**
- **agencies**
- **referrals**
- **core**
- **media**

### ‚≠ê Celery
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram
- –†–∞—Å—Å—ã–ª–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–æ–≤ –±—Ä–æ–Ω–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Payme (–ø–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

## ‚úÖ Database

### ‚≠ê PostgreSQL
**–û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö**
**–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
- Users
- Tours
- TourSessions
- Bookings
- Payments
- Agencies
- Referrals
- Media
- Logs (core)
- CustomTripRequests (–Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É)

### ‚≠ê –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ForeignKey —Å–≤—è–∑–∏
- ManyToMany –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ç—É—Ä–∞, –¥—Ä—É–∑–µ–π
- JSONField –¥–ª—è –≥–∏–±–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –æ–ø—Ü–∏–∏)
- –ò–Ω–¥–µ–∫—Å—ã –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ª—è–º (username, Telegram ID, –¥–∞—Ç—ã —Ç—É—Ä–æ–≤)
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã

## ‚úÖ Telegram Bot

### ‚≠ê –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Aiogram**
- **Python**

### ‚≠ê –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**–ü–µ—Ä–≤–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- –ß–µ—Ä–µ–∑ /start
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä Telegram ID, username
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ WebApp

**–ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:**
- –ó–∞—è–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- –ó–∞—è–≤–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞
- –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø–ª–∞—Ç—É (–∏–Ω–≤–æ–π—Å)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ

**–ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–∞—è –ø–∞–Ω–µ–ª—å:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫
- –ö–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è / –æ—Ç–∫–∞–∑–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- –†–∞—Å—Å—ã–ª–∫–∏ –ø–æ –±–∞–∑–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ —Å–æ–≥–ª–∞—Å–∏—é)

### ‚≠ê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –° Django REST API —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω/–∫–ª—é—á
- –° Payme (—á–µ—Ä–µ–∑ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ –∏–Ω–≤–æ–π—Å—ã)
- WebApp –∫–Ω–æ–ø–∫–∏ —Å deep linking

## ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Payme

### ‚≠ê Payme Merchant
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–æ–π—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã
- Split (–¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–∏—Å—Å–∏–∏ –∞–≥–µ–Ω—Ç—Å—Ç–≤—É)

### ‚≠ê Payme Payout (–Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É)
- –í—ã–ø–ª–∞—Ç—ã –±–æ–Ω—É—Å–æ–≤ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º
- –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ –¥–µ–Ω–µ–≥ –Ω–∞ –∫–∞—Ä—Ç—É

## ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

**–õ–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ S3 —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π storage:**
- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–æ—Ç–æ —Ç—É—Ä–æ–≤
- –ì–∞–ª–µ—Ä–µ–∏ —Ç—É—Ä–æ–≤
- –§–æ—Ç–æ –∞–≥–µ–Ω—Å—Ç–≤

## ‚úÖ –í –æ–¥–Ω–æ–º –∞–±–∑–∞—Ü–µ (–æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ):

> **¬´–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Circle ‚Äî —ç—Ç–æ Django REST-–±—ç–∫–µ–Ω–¥ —Å PostgreSQL, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Next.js –≤–Ω—É—Ç—Ä–∏ Telegram WebApp, Telegram Bot –Ω–∞ Aiogram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –º–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Payme –¥–ª—è –ø—Ä–∏—ë–º–∞ –∏ –≤—ã–ø–ª–∞—Ç.¬ª** 